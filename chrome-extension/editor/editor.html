<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Visual Feedback</title>
  <link rel="stylesheet" href="editor.css">
</head>
<body>
  <div class="layout">
    <!-- Left: Screenshot canvas -->
    <div class="canvas-area" id="canvasArea">
      <button id="closeBtn" class="close-btn" title="Close">&times;</button>
      <canvas id="screenshotCanvas"></canvas>
      <canvas id="annotationCanvas"></canvas>
      <div id="waitingOverlay" class="waiting-overlay hidden">
        <div class="waiting-content">
          <div class="spinner"></div>
          <div class="waiting-text">Waiting for Claude...</div>
          <button id="recaptureBtn" class="action-btn hidden">Recapture Screenshot</button>
        </div>
      </div>
    </div>

    <!-- Right: Chat panel -->
    <div class="chat-panel">
      <div class="chat-header">
        <span id="projectLabel" class="project-label">Visual Feedback</span>
        <button id="undoBtn" class="small-btn" title="Undo (Ctrl+Z)">Undo</button>
      </div>

      <div class="chat-messages" id="chatMessages">
        <div class="empty-state" id="emptyState">
          Circle issues on the screenshot, then describe or just send.
        </div>
      </div>

      <div class="chat-input">
        <input
          type="text"
          id="instructions"
          placeholder="What to fix? (optional)"
          autocomplete="off"
        />
        <button id="sendBtn" class="send-btn">Send</button>
      </div>
    </div>
  </div>

  <div id="status" class="status-msg"></div>
  <script src="editor.js"></script>
</body>
</html>
